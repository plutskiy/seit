# Экзамен

## Эволюция компьютерных сетей: системы пакетной обработки, многотерминальные системы, первые глобальные сети, первые локальные сети, появление сети Интернет.

Компьютерные сети, называемые также сетями передачи данных, являются логическим результатом эволюции двух важнейших
научно-технических отраслей современной цивилизации — вычислительной техники и телекоммуникационных технологий.

<p align="center">
  <img src="/img/evolution.png" alt="Эволюция сетей">
</p>

### Системы пакетной обработки

Системы пакетной обработки, как правило, строились на базе мейнфрейма — мощного и надежного компьютера универсального
назначения. Пользователи подготавливали перфокарты, содержащие данные и команды программ, и передавали их в
вычислительный центр (рис. 1.2). Задания нескольких пользователей группировались в пакет, который принимался на
выполнение. Оператор мейнфрейма вводил карты пакета в компьютер, который обрабатывал задания в многопрограммном режиме,
оптимизируя распределение процессора и устройств ввода-вывода между заданиями для достижения максимальной
производительности вычислений. Распечатанные результаты пользователи получали обычно только на следующий день.
на первых этапах развития вычислительных систем в значительной степени пренебрегали. Во главу угла ставилась
эффективность работы самого дорогого устройства вычислительной машины — процессора, даже в ущерб эффективности работы
использующих его специалистов.

<p align="center">
  <img src="/img/mainframe.png" alt="Эволюция сетей">
</p>

### Многотерминальные системы — прообраз сети

Начали развиваться интерактивные многотерминальные системы разделения времени (рис. 1.3). В таких системах каждый
пользователь получал собственный терминал, с помощью которого он мог вести диалог с компьютером. Количество
одновременно работающих с компьютером пользователей определялось его мощностью: время реакции вычислительной системы
должно было быть достаточно мало, чтобы пользователю была не слишком заметна параллельная работа с компьютером других
пользователей.

<p align="center">
  <img src="/img/Многотерминальная%20система.png" alt="Эволюция сетей">
</p>

И хотя вычислительная мощность оставалась полностью централизованной, некоторые функции — такие, как ввод и вывод
данных — стали распределенными. Подобные многотерминальные централизованные системы внешне уже были очень похожи на
локальные вычислительные сети.

Пользователь мог получить доступ к общим файлам и периферийным устройствам, при этом у него поддерживалась полная
иллюзия единоличного владения компьютером, так как он мог запустить нужную ему программу в любой момент и почти сразу же
получить результат (некоторые далекие от вычислительной техники пользователи даже были уверены, что все вычисления
выполняются внутри их дисплея).

> Многотерминальные системы, работающие в режиме разделения времени, стали прообразом локальных вычислительных сетей.

В то время был справедлив закон Гроша:

> Закон Гроша Производительность компьютера увеличивается как квадрат стоимости. Если компьютер A стоит в два раза
> дороже, чем компьютер B, то вы должны ожидать, что компьютер A в четыре раза быстрее, чем компьютер B.

### Первые глобальные сети

Началось все с решения более простой задачи — доступа к отдельному компьютеру с терминалов, удаленных от него на многие
сотни, а то и тысячи километров. Терминалы соединялись с компьютером через телефонные сети с помощью модемов, позволив
многочисленным пользователям получать удаленный доступ к разделяемым ресурсам мощных суперкомпьютеров. Затем появились
системы, в которых наряду с удаленными соединениями типа терминал — компьютер были реализованы и удаленные связи типа
компьютер — компьютер.
Разнесенные территориально компьютеры получили возможность обмениваться данными в автоматическом режиме, что,
собственно, и является базовым признаком любой вычислительной сети.
На основе подобного механизма в первых сетях были реализованы службы обмена файлами, синхронизации баз данных,
электронной почты и другие, ставшие теперь традиционными сетевые службы.

На основе подобного механизма в первых сетях были реализованы службы обмена файлами, синхронизации баз данных,
электронной почты и другие, ставшие теперь традиционными сетевые службы.

> Итак, хронологически первыми появились глобальные сети (Wide Area Network, WAN), то есть сети, объединяющие
> территориально рассредоточенные компьютеры, возможно, находящиеся в различных городах и странах.

Главное технологическое новшество, которое привнесли с собой первые глобальные компьютерные сети, состояло в отказе от
**принципа коммутации каналов**, на протяжении многих десятков лет успешно использовавшегося в телефонных сетях.

> Принцип коммутации пакетов данные разделяются на небольшие порции — пакеты, которые самостоятельно
> перемещаются по сети благодаря наличию адреса конечного узла в заголовке пакета.

В течение многих лет глобальные сети строились на основе телефонных каналов тональной частоты, способных в каждый момент
времени вести передачу только одного разговора в аналоговой форме. И это накладывало следующие неудобства:

1. Поскольку скорость передачи дискретных компьютерных данных по таким каналам была очень низкой (десятки килобит в
   секунду)
2. Набор предоставляемых услуг в глобальных сетях подобного типа обычно ограничивался передачей файлов (преимущественно
   в фоновом режиме) и электронной почтой.
3. Они вносят значительные искажения в передаваемые сигналы.

#### ARPANET

В 1969 году министерство обороны США инициировало работы по объединению в единую сеть суперкомпьютеров оборонных и
научно-исследовательских центров. Эта сеть, получившая название ARPANET, стала отправной точкой для создания первой и
самой известной ныне глобальной сети мирового масштаба — Internet.

Сеть ARPANET объединяла компьютеры разных типов, работавшие под управлением различных операционных систем (ОС) с
дополнительными модулями, реализующими коммуникационные протоколы, общие для всех компьютеров сети. ОС этих компьютеров
можно считать первыми **сетевыми операционными системами**.

Сетевые ОС позволили не только рассредоточить пользователей между несколькими компьютерами (как в многотерминальных
системах), но и организовать распределенные хранение и обработку данных. Любая сетевая операционная система, с одной
стороны, выполняет все функции локальной операционной системы, а с другой стороны, обладает некоторыми дополнительными
средствами, позволяющими ей взаимодействовать через сеть с операционными системами других компьютеров. Программные
модули, реализующие сетевые функции, появлялись в операционных системах постепенно, по мере развития сетевых
технологий, аппаратной базы компьютеров и возникновения новых задач, требующих сетевой обработки.

### Первые локальные сети

В результате технологического прорыва в области производства компьютерных компонентов появились большие интегральные
схемы (БИС). Их сравнительно невысокая стоимость и хорошие функциональные возможности привели к созданию
мини-компьютеров, которые стали реальными конкурентами мейнфреймов. Эмпирический закон Гроша перестал соответствовать
действительности, так как десяток мини-компьютеров, имея ту же стоимость, что и один мейнфрейм, решали некоторые
задачи (как правило, хорошо распараллеливаемые) быстрее.

<p align="center">
  <img src="/img/мини-компьютеры%20в%20предприятии.png" alt="Эволюция сетей">
</p>

Даже небольшие подразделения предприятий получили возможность иметь собственные компьютеры. Мини-компьютеры решали
задачи управления технологическим оборудованием, складом и другие задачи уровня отдела предприятия. Таким образом,
появилась концепция распределения компьютерных ресурсов по всему предприятию. Однако при этом все компьютеры одной
организации по-прежнему продолжали работать автономно (рис. 1.4).

> **Локальные сети** (Local Area Network, LAN) — это объединения компьютеров, сосредоточенных на небольшой территории,
> обычно в радиусе не более 1–2 км, хотя в отдельных случаях локальная сеть может иметь и большие размеры, например,
> несколько десятков километров. Обычно локальная сеть представляет собой коммуникационную систему, принадлежащую одной
> организации.

На первых порах для соединения компьютеров друг с другом использовались *нестандартные* сетевые технологии.

> **Сетевая технология** — это согласованный набор программных и аппаратных средств (например, драйверов, сетевых
> адаптеров,
> кабелей и разъемов), а также механизмов передачи данных по линиям связи, достаточный для построения вычислительной
> сети.

> В середине 80-х годов положение дел в локальных сетях кардинально изменилось. Утвердились стандартные сетевые
> технологии объединения компьютеров в сеть — Ethernet, Arcnet, Token Ring, Token Bus, несколько позже — FDDI.


Мощным стимулом для их появления послужили **персональные компьютеры**. Они стали преобладать в локальных сетях, причем
не только в качестве клиентских компьютеров, но и в качестве центров хранения и обработки данных, то есть сетевых
серверов, потеснив с этих привычных ролей миникомпьютеры и мейнфреймы.

Все стандартные технологии локальных сетей опирались на тот же принцип коммутации, который был с успехом опробован и
доказал свои преимущества при передаче трафика данных в глобальных компьютерных сетях — *принцип коммутации пакетов*.

---

## Схема простейшей сети из двух компьютеров. Задача разделения ресурсов. Классификация компьютерных сетей.

### Простейшая сеть из двух компьютеров

<p align="center">
  <img src="/img/Простейшая сеть.png" alt="/Простейшая сеть">
</p>

### Сетевые интерфейсы (не вопрос из экза, но его будут спрашивать 100%)

> Интерфейс — в широком смысле — формально определенная логическая и/или физическая граница между отдельными объектами,
> которые обмениваются информацией. Интерфейс задает параметры, процедуры и характеристики взаимодействия объектов.

Разделяют физический и логический интерфейсы.

* **Физический интерфейс** (называемый также **портом**) определяется набором электрических связей и характеристиками
  сигналов. Обычно он представляет собой разъем с набором контактов, каждый из которых имеет определенное назначение,
  например, это может быть группа контактов для передачи данных, контакт синхронизации данных и т. п. Пара разъемов
  соединяется кабелем, состоящим из набора проводов, каждый из которых соединяет соответствующие контакты. В таких
  случаях
  говорят о создании линии, или канала, связи между двумя устройствами.
* **Логический интерфейс** (называемый также **протоколом**) — это набор информационных сообщений определенного формата,
  которыми обмениваются два устройства или две программы, а также набор правил, определяющих логику обмена этими
  сообщениями.

Дальше в Олифере идёт рабор взаимодействия интерфейсов и процессов взаимодействия между компьютерами. Я приложу
схему, как это всё работает можете прочитать в учебнике.

<p align="center">
  <img src="/img/Совместное%20использование.png" alt="Совместное% использование">
</p>

### Задача разделения ресурсов ???

Исторически главной целью объединения компьютеров в сеть было разделение ресурсов: пользователи компьютеров,
подключенных к сети, или приложения, выполняемые на этих компьютерах, получают возможность автоматического доступа к
разнообразным ресурсам остальных компьютеров сети, к числу которых относятся:

* периферийные устройства, такие как диски, принтеры, плоттеры, сканеры и др.;
* данные, хранящиеся в оперативной памяти или на внешних запоминающих устройствах;
* вычислительная мощность (за счет удаленного запуска «своих» программ на «чужих» компьютерах).
  Чтобы обеспечить пользователей разных компьютеров возможностью совместного использования ресурсов сети, компьютеры
  необходимо оснастить некими дополнительными сетевыми средствами.

### Классификация компьютерных сетей

Начнем с того, что компьютерные сети — составляющая классификации телекоммуникационных сетей, которые по виду
передаваемого контента делятся на:

* радиосети;
* телефонные сети;
* телевизионные сети;
* компьютерные сети.

В зависимости от *территории покрытия* компьютерные сети можно разделить на три группы:

* локальные сети (Local Area Network, LAN);
* глобальные сети (Wide Area Network, WAN);
* городские сети, или сети мегаполиса (Metropolitan Area Network, MAN).

В локальных сетях качество линий связи между узлами обычно выше, чем в глобальных сетях. Это обусловлено различными
причинами:

* существенно меньшей длиной линий связи (метры вместо сотен километров), а значит, и меньшими искажениями сигналов,
  вносимых неидеальной передающей средой;
* меньшим уровнем внешних помех, так как в локальной сети оборудование и кабели обычно размещаются в специальных
  защищенных экранированных помещениях, а линии связи глобальной сети могут проходить в сильно электромагнитно
  «зашумленной» среде, например, в туннелях подземных коммуникаций, рядом с силовыми кабелями, вдоль линий
  электропередач и т. п.;
* экономическими соображениями.

Сети MAN предназначены для обслуживания территории крупного города — мегаполиса и сочетают в себе признаки как
локальных, так и глобальных сетей. От первых они унаследовали большую плотность подключения конечных абонентов и
высокоскоростные линии связи, а от последних — большую протяженность линий связи.

В соответствии с технологическими признаками, обусловленными средой передачи, компьютерные сети подразделяют на два
класса:

* проводные сети — сети, каналы связи которых построены с использованием медных или оптических кабелей;
* беспроводные сети — сети, в которых для связи используются беспроводные каналы связи, например, радио, СВЧ,
  инфракрасные или лазерные каналы.

Любая беспроводная среда — будь то радиоволны, инфракрасные лучи или СВЧ-сигналы спутниковой связи — гораздо больше
подвержена влиянию внешних помех, чем проводная.

В зависимости от способа коммутации, сети подразделяются на два фундаментально различных класса:

* сети с коммутацией пакетов;
* сети с коммутацией каналов.

В свою очередь, техника коммутации пакетов допускает несколько вариаций, отличающихся способом продвижения пакетов, в
соответствии с чем сети делятся на:

* дейтаграммные сети, например Ethernet;
* сети, основанные на логических соединениях, например, IP-сети, использующие на
  транспортном уровне протокол TCP;
* сети, основанные на виртуальных каналах, например MPLS-сети.

Сети могут быть классифицированы на основе *топологии*. Топологический тип сети весьма отчетливо характеризует сеть, он
понятен как профессионалам, так и пользователям:

* шина
* ячеистая
* полносвязная топология
* дерево
* звезда
* кольцо
* смешанная топология

В зависимости от того, какому типу пользователей предназначаются услуги сети, последние делятся на сети операторов
связи, корпоративные и персональные сети.

* *Сети операторов связи* предоставляют публичные услуги, то есть клиентом сети может стать любой индивидуальный
  пользователь или любая организация, которая заключила соответствующий коммерческий договор на предоставление той или
  иной телекоммуникационной услуги.
* *Корпоративные сети* предоставляют услуги только сотрудникам предприятия, которое владеет этой сетью.
* *Персональные сети* находятся в личном использовании. Для них характерно небольшое количество узлов, простая
  структура,
  а также небольшой (в пределах 30 метров) радиус действия.

В зависимости от функциональной роли, которую играют некоторые части сети, ее относят к сети доступа, магистральной
сети или сети агрегирования трафика (рис. 4.15). Поясним, что:

* Сети доступа — это сети, предоставляющие доступ индивидуальным и корпоративным абонентам от их помещений (квартир,
  офисов) до первого помещения (пункта присутствия) оператора сети связи или оператора корпоративной сети. Другими
  словами, это сети, ответственные за расширение глобальной сети до помещений ее клиентов.
* Магистральные сети — это сети, представляющие собой наиболее скоростную часть (ядро) глобальной сети, которая
  объединяет многочисленные сети доступа в единую сеть.
* Сети агрегирования трафика — это сети, агрегирующие данные от многочисленных сетей доступа для компактной передачи их
  по небольшому числу каналов связи в магистраль. Сети агрегирования обычно используются только в крупных глобальных
  сетях, где они занимают промежуточную позицию, помогая магистральной сети обрабатывать трафик, поступающий от большого
  числа сетей доступа. В сетях среднего и небольшого размера сети агрегирования обычно отсутствуют.

Различают также первичные и наложенные телекоммуникационные сети:

* Первичные сети занимают особое положение в мире телекоммуникационных сетей, их можно рассматривать как вспомогательные
  сети, позволяющие гибко создавать постоянные физические двухточечные каналы для других компьютерных и телефонных
  сетей. Другими словами, первичная сеть — это *гибкая среда для создания физических каналов связи.*
* Наложенные сети в этой классификации — это все остальные сети, которые предоставляют услуги конечным пользователям и
  строятся на основе каналов первичных сетей — «накладываются» поверх этих сетей. Так, и компьютерные, и
  телефонные,
  и телевизионные сети являются наложенными.

<p align="center">
  <img src="/img/Сети%20доступа.png" alt="Сети доступа">
</p>

---

## Сетевое программное обеспечение.

### Сетевые службы и сервисы

> **Клиент** — это модуль, предназначенный для формирования и передачи сообщений-запросов к ресурсам удаленного
> компьютера
> от разных приложений с последующим приемом результатов из сети и передачей их соответствующим приложениям.

> **Сервер** — это модуль, который постоянно ожидает прихода из сети запросов от клиентов и, приняв запрос, пытается его
> обслужить, как правило, с участием локальной ОС; один сервер может обслуживать запросы сразу нескольких клиентов (
> поочередно или одновременно).

> Пара клиент-сервер, предоставляющая доступ к конкретному типу ресурса компьютера через сеть, образует **сетевую
службу.**

> Услуги, предоставляемые службой, **называются сервисом.**

<p align="center">
  <img src="/img/Веб-служба.png" alt="Веб-служба">
</p>

---

# Сетевые операционные системы на примере семейства ОС Windows.

> Сетевой операционной системой называют операционную систему компьютера, которая, помимо управления локальными
> ресурсами, предоставляет пользователям и приложениям возможность эффективного и удобного доступа к информационным и
> аппаратным ресурсам других компьютеров сети.

<p align="center">
  <img src="/img/Функциональный%20компоненты%20сетевой%20ОС.png" alt="Функциональный компоненты сетевой ОС">
</p>

Помимо сетевых служб сетевая ОС включает программные коммуникационные (транспортные) средства, обеспечивающие
совместно с аппаратными коммуникационными средствами передачу сообщений, которыми обмениваются клиентские и серверные
части сетевых служб.

Сетевая служба может быть представлена в ОС либо обеими (клиентской и серверной) частями, либо только одной из них.

В первом случае операционная система, называемая **одноранговой**, не только позволяет обращаться к ресурсам других
компьютеров, но и предоставляет собственные ресурсы в распоряжение пользователей других компьютеров.

Операционная система, которая содержит преимущественно клиентские части сетевых служб, называется **клиентской.**

К другому типу операционных систем относится **серверная ОС** — она ориентирована на обработку запросов из сети к
ресурсам
своего компьютера и включает в себя в основном серверные части сетевых служб. Компьютер с установленной на нем
серверной ОС, занимающийся исключительно обслуживанием запросов других компьютеров, называют **выделенным сервером**
сети.

### Семейство операционных систем Windows (ответ ГПТхи, думаю его хватит)

Развитие сетевых возможностей операционных систем Windows прошло через несколько ключевых этапов, начиная с самых ранних
версий и до современных. Рассмотрим основные вехи:

#### Windows 3.x и Windows for Workgroups (1990-е)

**Windows 3.11 for Workgroups** (1992): Первая версия Windows, которая включала встроенные сетевые функции, такие как
поддержка протоколов NetBEUI и TCP/IP. Это позволило создавать небольшие локальные сети и обмениваться файлами и
принтерами.

#### Windows NT (начало 1990-х)

**Windows NT 3.1** (1993): Сеть стала более надежной и безопасной, поддерживались клиент-серверные приложения и
доменные структуры.
**Windows NT 4.0** (1996): Существенное улучшение в области сетевой безопасности и интеграции с сетями на базе Unix.

#### Windows 2000

**Windows 2000** (2000): Существенные улучшения в Active Directory, упрощенный доступ к сетевым ресурсам, улучшенная
поддержка DNS и DHCP. Появление Distributed File System (DFS) для улучшения управления файлами в сетевой среде.

#### Windows XP и Windows Server 2003

**Windows XP** (2001): Улучшенная поддержка беспроводных сетей, улучшенные средства управления сетевыми подключениями.
**Windows Server 2003** (2003): Внедрение новых возможностей в области сетевой безопасности, таких как IPSec и Network
Access Quarantine Control (NAQC).

#### Windows Vista и Windows Server 2008

**Windows Vista** (2006): Новые функции безопасности, такие как Windows Firewall с расширенными настройками, поддержка
IPv6.
**Windows Server 2008** (2008): Дополнительные функции для виртуализации, улучшения в Active Directory, возможность
создания и управления комплексными сетевыми структурами.

#### Windows 7 и Windows Server 2008 R2

**Windows 7** (2009): Улучшенная работа с сетевыми профилями, "HomeGroup" для упрощенного обмена файлами в домашних
сетях, поддержка DirectAccess.
**Windows Server 2008 R2** (2009): Улучшенная поддержка Hyper-V, расширенные возможности управления сетью, улучшения в
области безопасности.

#### Windows 8, 8.1 и Windows Server 2012

**Windows 8** (2012) и **8.1** (2013): Поддержка новых стандартов беспроводных сетей, улучшенная работа с VPN и
DirectAccess.
**Windows Server 2012** (2012): Новые возможности для облачных вычислений и управления данными, улучшенная интеграция
с виртуализацией.

#### Windows 10 и Windows Server 2016/2019

**Windows 10** (2015): Улучшенная безопасность с Windows Hello и Microsoft Passport, улучшенные сетевые функции для
корпоративных пользователей.
**Windows Server 2016/2019**: Новые функции для облачных и гибридных сетей, улучшенные возможности для контейнеризации
и виртуализации, поддержка Shielded Virtual Machines для повышения безопасности.

#### Windows 11 и Windows Server 2022

**Windows 11** (2021): Продолжение улучшений в области безопасности, интеграция с облачными сервисами, улучшенные
сетевые возможности для домашних и корпоративных пользователей.

- **Windows Server 2022**: Поддержка новых сетевых протоколов и технологий, таких как HTTP/3 и QUIC, улучшенная
  интеграция с Azure.

Эти этапы иллюстрируют, как Microsoft последовательно улучшала сетевые возможности своих операционных систем,
обеспечивая более высокую производительность, безопасность и удобство использования в различных сетевых средах.

---

## Физическая передача данных по линиям связи - кодирование.

### Кодирование

> Представление данных в виде электрических или оптических сигналов называется **кодированием.**

Существуют различные способы кодирования двоичных цифр, например, **потенциальный** способ, при котором единице
соответствует один уровень напряжения, а нулю — другой, или **импульсный способ**, когда для представления цифр
используются
импульсы различной полярности.

В вычислительных сетях применяют как потенциальное, так и импульсное кодирование дискретных данных, а также
специфический способ представления данных, который никогда не используется внутри компьютера, — **модуляцию** (рис.
2.8).
При модуляции дискретная информация представляется синусоидальным сигналом той частоты, которую хорошо передает
имеющаяся линия связи.

<p align="center">
  <img src="/img/Примеры%20представления%20дискретной%20информации.png" alt="Примеры представления дискретной информации">
</p>


Потенциальное и импульсное кодирование применяется на каналах высокого качества, а модуляция на основе синусоидальных
сигналов предпочтительнее в том случае, когда канал вносит сильные искажения в передаваемые сигналы.

---

## Характеристики физических каналов

* **Предложенная нагрузка** — это поток данных, поступающий от приложения пользователя на вход сети, которая всегда
  готова
  принять данные. Предложенную нагрузку можно характеризовать скоростью генерации данных в битах в секунду. Эта
  характеристика описывает интенсивность работы источника информации и абстрагируется от свойств физических каналов.
* **Пропускная способность,** называемая также емкостью канала связи (capacity), представляет собой максимально
  возможную
  скорость передачи информации по данному каналу. Для повышения пропускной способности составного пути необходимо в
  первую очередь обратить внимание на самые медленные элементы, называемые **узкими местами** (bottleneck).
* **Скорость передачи данных** (information rate, или throughput, оба английских термина используются равноправно) — это
  фактическая скорость потока данных, прошедшего через сеть или некоторые ее фрагменты. Скорость информационного потока,
  называемая также скоростью передачи данных, определяется как частное от деления объема данных, переданных за
  некоторый интервал времени, на величину этого интервала.

Физические каналы связи делятся на несколько типов в зависимости от того, могут они передавать информацию в обоих
направлениях или нет.

* Дуплексный канал обеспечивает одновременную передачу информации в обоих направлениях.
* Полудуплексный канал также обеспечивает передачу информации в обоих направлениях, но не одновременно, а по очереди.
  То есть в течение определенного периода времени информация передается в одном направлении, а в течение следующего
  периода — в обратном.
* Симплексный канал позволяет передавать информацию только в одном направлении. Часто дуплексный канал состоит из двух
  симплексных каналов.

---

## Топология физических связей в компьютерных сетях. Адресация узлов сети.

### Топология физических связей

> Под **топологией сети** понимается конфигурация графа, вершинам которого соответствуют конечные узлы сети (например,
> компьютеры) и коммуникационное оборудование (например, маршрутизаторы), а ребрам — физические или информационные связи
> между вершинами.

* **Полносвязная топология** соответствует сети, в которой каждый компьютер непосредственно связан со всеми остальными.
  Полносвязные топологии в крупных сетях применяются редко, так как для связи $N$ узлов требуется $N(N – 1)/2$
  физических
  дуплексных линий связей, то есть имеет место квадратичная зависимость от числа узлов

  <p align="center">
    <img src="/img/Полносвязная.png" alt="Полносвязная топология">
  </p>

  Все другие варианты основаны на **неполносвязных топологиях**, когда для обмена данными между двумя компьютерами может
  потребоваться транзитная передача данных через другие узлы сети.


* **Ячеистая топология** получается из полносвязной путем удаления некоторых связей. Ячеистая топология допускает
  соединение большого количества компьютеров и характерна, как правило, для крупных сетей.
  <p align="center">
    <img src="/img/Ячеистой.png" alt="Ячеистой">
  </p>

* **Звездообразная топология** образуется в случае, когда каждый компьютер подключается непосредственно к общему
  центральному устройству, называемому концентратором. К недостаткам звездообразной топологии относится более высокая
  стоимость сетевого оборудования из-за необходимости приобретения специализированного центрального устройства. Кроме
  того, возможности по наращиванию количества узлов в сети ограничиваются количеством портов концентратора.
  <p align="center">
    <img src="/img/Звезда.png" alt="Звезда">
  </p>

* Иногда имеет смысл строить сеть с использованием нескольких концентраторов, иерархически соединенных между собой
  звездообразными связями. Получаемую в результате структуру называют **иерархической звездой**, или **деревом**. В
  настоящее время дерево является самой распространенной топологией связей как в локальных, так и глобальных сетях.
  <p align="center">
    <img src="/img/Дерево.png" alt="Дерево">
  </p>

* Особым частным случаем звезды является **общая шина**. Здесь в качестве центрального элемента выступает пассивный
  кабель, к которому по схеме «монтажного ИЛИ» подключается несколько компьютеров. Передаваемая информация
  распространяется по кабелю и доступна одновременно всем компьютерам, присоединенным к этому кабелю. Основными
  преимуществами такой схемы являются ее дешевизна и простота присоединения новых узлов к сети, а недостатками — низкая
  надежность (любой дефект кабеля полностью парализует всю сеть) и невысокая производительность (в каждый момент времени
  только один компьютер может передавать данные по сети, поэтому пропускная способность делится здесь между всеми узлами
  сети).
  <p align="center">
    <img src="/img/Шина.png" alt="Шина">
  </p>

* В больших сетях никто не использует какую-то одну тополгию, они используют их все сразу, тем самым образуя **смешанную
  топологию**.
  <p align="center">
    <img src="/img/Смешанная.png" alt="Смешанная">
  </p>

### Адресация узлов сети

По количеству адресуемых интерфейсов адреса можно классифицировать следующим образом:

* **уникальный адрес** (unicast) используется для идентификации отдельных интерфейсов;
* **групповой адрес** (multicast) идентифицирует сразу несколько интерфейсов, поэтому данные, помеченные групповым
  адресом, доставляются каждому из узлов, входящих в группу;
* данные, направленные по **широковещательному адресу** (broadcast), должны быть доставлены всем узлам сети;
* **адрес произвольной рассылки** (anycast), так же как и групповой адрес, задает группу адресов, однако данные,
  посланные по этому адресу, доставляются не всем узлам данной группы, а только одному из них. Выбор этого узла
  осуществляется в соответствии с некоторыми правилами предпочтения.

Адреса могут быть **числовыми** (например, 129.26.255.255 или 81.1a.ff.ff) и **символьными** (site .domen .ru,
willi-winki).

> Множество всех адресов, которые являются допустимыми в рамках некоторой схемы адресации, называется **адресным
пространством**. Адресное пространство может иметь плоскую (линейную) или иерархическую организацию.

При **плоской организации** множество адресов никак не структурировано. Примером плоского числового адреса является *
*MAC-адрес(аппаратными адресами (hardware address))**, предназначенный для однозначной идентификации сетевых интерфейсов
в локальных сетях. Такой адрес обычно используется только аппаратурой, поэтому его стараются сделать по возможности
компактным и записывают в виде двоичного или шестнадцатеричного числа, например 0081005e24a8.

При иерархической организации адресное пространство структурируется в виде вложенных друг в друга подгрупп, которые,
последовательно сужая адресуемую область, в конце концов, определяют отдельный сетевой интерфейс. Например, в
трехуровневой структуре адресного пространства адрес конечного узла может задаваться тремя составляющими:

* идентификатором группы $(K)$, в которую входит данный узел;
* идентификатором подгруппы $(L)$;
* идентификатором узла $(n)$, однозначно определяющим его в подгруппе.

Типичными представителями иерархических числовых адресов являются сетевые IPадреса.

А для преобразования адресов из одного вида в другой используются специальные вспомогательные протоколы, которые
называют **протоколами разрешения адресов**.

Проблема установления соответствия между адресами различных типов может решаться как централизованными, так и
распределенными средствами.

При *централизованном подходе* в сети выделяется один или несколько компьютеров (серверов имен), в которых хранится
таблица соответствия имен различных типов — например, символьных имен и числовых адресов. Все остальные компьютеры
обращаются к серверу имен с запросами, чтобы по символьному имени найти числовой номер необходимого компьютера.

При *распределенном подходе* каждый компьютер сам хранит все назначенные ему адреса разного типа. Тогда компьютер,
которому необходимо определить по известному иерархическому числовому адресу некоторого компьютера его плоский
аппаратный адрес, посылает в сеть широковещательный запрос. Все компьютеры сети сравнивают содержащийся в запросе
адрес с собственным. Тот компьютер, у которого обнаружилось совпадение, посылает ответ, содержащий искомый аппаратный
адрес. Такая схема использована в **протоколе разрешения адресов** (Address Resolution Protocol, ARP) стека TCP/IP.

Достоинство распределенного подхода состоит в том, что он позволяет отказаться от выделения специального компьютера в
качестве сервера имен, который к тому же часто требует ручного задания таблицы соответствия адресов. Недостатком его
является необходимость широковещательных сообщений, перегружающих сеть. Именно поэтому распределенный подход
используется в небольших сетях, а централизованный — в больших.

---

## Коммутация. Общая задача коммутации. Определение информационных потоков.

### Коммутация

> Соединение конечных узлов через сеть транзитных узлов называют **коммутацией**. Последовательность узлов, лежащих на
> пути от отправителя к получателю, образует **маршрут**.

<a id="Задача коммутации"></a>

### Обобщенная задача коммутации

В самом общем виде задача коммутации может быть представлена в виде следующих взаимосвязанных частных задач:

1. Определение информационных потоков, для которых требуется прокладывать маршруты.
2. Маршрутизация потоков — прокладка маршрутов.
3. Продвижение потоков, то есть распознавание потоков и их локальная коммутация на каждом транзитном узле.
4. Мультиплексирование и демультиплексирование потоков.

### Определение информационных потоков

  <p align="center">
    <img src="/img/Коммутация.png" alt="Коммутация">
  </p>

Понятно, что через один транзитный узел может проходить несколько маршрутов, например, через узел 5 (см. рис. 2.12)
проходят как минимум все данные, направляемые узлом 4 каждому из остальных узлов, а также все данные, поступающие в узлы
3, 4 и 10. Транзитный узел должен уметь распознавать поступающие на него потоки данных, чтобы обеспечивать передачу
каждого из них
именно на тот свой интерфейс, который ведет к нужному узлу, и, возможно, чтобы выбрать специфический для данного потока
способ его обработки.

> **Информационным потоком**, или потоком данных, называют непрерывную последовательность данных, объединенных набором
> общих
> признаков, выделяющих эти данные из общего сетевого трафика.

Очевидно, что при коммутации в качестве обязательного признака выступает **адрес назначения** данных. На основании этого
признака весь поток входящих в транзитный узел данных разделяется на подпотоки, каждый из которых передается на
интерфейс, соответствующий тому или иному маршруту продвижения данных.

Возможна и обратная по отношению к выделению подпотоков операция — **агрегирование потоков**.

Агрегирование потоков, имеющих общую часть маршрута через сеть, позволяет уменьшить количество хранимой промежуточными
узлами сети информации, так как агрегированные потоки описываются в них как одно целое. В результате снижается нагрузка
на промежуточные узлы сети и повышается их быстродействие.

Признаки потока могут иметь *глобальное* или *локальное значение* — в первом случае они однозначно определяют поток в
пределах всей сети, а во втором — в пределах одного транзитного узла.

**Метка потока** — это особый тип признака. Она представляет собой некоторое число, которое несут все данные потока.
**Глобальная метка** назначается данным потока и не меняет своего значения на всем протяжении его пути следования от
узла
источника до узла назначения, таким образом, она уникально определяет поток в пределах сети. В некоторых технологиях
используются **локальные метки** потока, динамически меняющие свое значение при передаче данных от одного узла к
другому.

> Таким образом, распознавание потоков во время коммутации происходит на основании признаков, в качестве которых,
> помимо обязательного адреса назначения данных, могут выступать и другие признаки — такие, например, как идентификаторы
> приложений.

---

## Маршрутизация. Продвижение данных. Мультиплексирование и демультиплексирование.

Задача маршрутизации, в свою очередь, включает в себя две подзадачи:

* определение маршрута;
* оповещение сети о выбранном маршруте.

Абстрактная оценка условного «расстояния» между двумя узлами сети называется **метрикой**. Так, для измерения длины
маршрута могут быть использованы разные метрики — количество транзитных узлов, как в предыдущем примере, линейная
протяженность маршрута и даже его стоимость в денежном выражении.

После того как маршрут определен (вручную или автоматически), надо _оповестить_ о нем все устройства сети.

Cообщение о маршруте должно нести каждому транзитному устройству примерно такую информацию: «каждый раз, когда в
устройство поступят данные, относящиеся к потоку $n$, их следует передать для дальнейшего продвижения на интерфейс
$if1$».
Каждое подобное сообщение о маршруте обрабатывается транзитным устройством, в результате создается новая запись в
**таблице коммутации** (называемой также **таблицей маршрутизации)** данного устройства. В этой таблице локальному или
глобальному признаку (признакам) потока (например, метке, номеру входного интерфейса или адресу назначения) ставится в
соответствие номер интерфейса, на который устройство должно передавать данные, относящиеся к этому потоку.

Таблица ниже является фрагментом таблицы коммутации, содержащим запись, сделанную на основании сообщения о необходимости
передачи потока $n$ на интерфейс $if1$.

| **Признаки потока** | **Направление передачи данных (номер интерфейса и/или адрес следующего узла)** |
|---------------------|--------------------------------------------------------------------------------|
|                     |                                                                                |
| n = {DA, SA, A}     | if1                                                                            |
|                     |                                                                                |

В этой таблице в качестве признака потока использованы адрес назначения DA, адрес источника SA и тип приложения А,
которое генерирует пакеты потока.

### Продвижение данных

Для каждой пары абонентов эта операция может быть представлена несколькими (по числу транзитных узлов) _локальными_
операциями коммутации. Прежде всего отправитель должен выставить данные на тот свой интерфейс, с которого начинается
найденный маршрут, а все транзитные узлы должны соответствующим образом выполнить «переброску» данных с одного своего
интерфейса на другой, другими словами, выполнить **коммутацию интерфейсов**. Устройство, функциональным назначением
которого
является коммутация, называется **коммутатором**. На рис. 2.14 показан коммутатор, который переключает информационные
потоки между четырьмя своими интерфейсами.


  <p align="center">
    <img src="/img/Коммутатор.png" alt="Коммутатор">
  </p>

> Интерфейс коммутатора (называемый также портом) является физическим модулем, состоящим из приемника и передатчика .
> В том случае, когда передатчик и приемник работают на дуплексный канал связи, они работают независимо друг от друга,
> обеспечивая одновременную передачу данных в обоих направлениях. Иногда приемную часть интерфейса называют входным
> интерфейсом, а выходную часть — выходным интерфейсом.


Прежде чем выполнить коммутацию, коммутатор должен распознать поток. Для этого в поступивших данных коммутатор
пытается найти признак какого-либо из потоков, заданных в его таблице коммутации. Если произошло совпадение, то эти
данные направляются на интерфейс, определенный для них в маршруте.

Однако во многих случаях более рациональным является решение, в соответствии с которым некоторые узлы в сети выделяются
_специально_ для
коммутации. Эти узлы образуют **коммутационную сеть**, к которой подключаются все остальные. На рис. 2.15 показана
коммутационная сеть, образованная из узлов 1, 5, 6 и 8, к которой подключаются конечные узлы 2, 3, 4, 7, 9 и 10.

  <p align="center">
    <img src="/img/Коммутационная%20сеть.png" alt="Коммутационная сеть">
  </p>

### Мультиплексирование и демультиплексирование

Чтобы определить, на какой интерфейс следует передать поступившие данные, коммутатор должен выяснить, к какому потоку
они относятся. Эта задача должна решаться независимо от того, поступает на вход коммутатора только один «чистый» поток
или «смешанный» поток, являющийся результатом агрегирования нескольких потоков. В последнем случае
к задаче распознавания потоков добавляется задача демультиплексирования.

> **Демультиплексирование** — разделение суммарного потока на несколько составляющих его потоков


Как правило, операцию коммутации сопровождает также обратная операция мультиплексирования.

> **Мультиплексирование (агрегирование)** — образование из нескольких отдельных потоков общего агрегированного потока,
> который передается по одному физическому каналу связи.


Другими словами, мультиплексирование — это способ разделения одного имеющегося физического канала между несколькими
одновременно протекающими сеансами связи абонентов сети.

Операции мультиплексирования/демультиплексирования имеют такое же важное значение в любой сети, как и операции
коммутации, потому что без них пришлось бы для каждого потока предусматривать отдельный канал, что привело бы к большому
количеству параллельных связей в сети и свело бы на нет все преимущества неполносвязной сети.

Одним из основных способов мультиплексирования потоков является **разделение времени**. При этом способе каждый поток
время от времени (с фиксированным или случайным периодом) получает физический канал в полное свое распоряжение и
передает по нему свои данные. Распространено также **частотное разделение** канала, когда каждый поток передает данные в
выделенном ему частотном диапазоне.

Технология мультиплексирования должна позволять получателю такого суммарного потока выполнять обратную операцию —
разделение (демультиплексирование) данных на слагаемые потоки.

Вообще говоря, на одном интерфейсе могут одновременно выполняться обе функции — мультиплексирование и
демультиплексирование.

> Частный случай коммутатора, у которого все входящие информационные потоки коммутируются на один выходной интерфейс,
> где они мультиплексируются в один агрегированный поток, называется **мультиплексором**. Коммутатор, который имеет один
> входной интерфейс и несколько выходных, называется **демультиплексором** (рис. 2 .17).

  <p align="center">
    <img src="/img/Мультиплексор%20и%20демультиплексор.png" alt="Мультиплексор и демультиплексор">
  </p>

---

## Коммутация каналов. Элементарный канал. Составной канал.

### Коммутация каналов

Сеть с коммутацией каналов представляет собой множество **коммутаторов** и конечных узлов — **абонентов**, соединенных
между
собой **линиями (звеньями) связи**. Заметим, что в данном контексте термин «линия связи» используется для обозначения
соединения двух соседних узлов сети.

Время существования информационного потока ограничивается рамками **сеанса связи** абонентов. Глобальным признаком
потока является пара адресов (например, телефонных номеров) абонентов, связывающихся между собой через
последовательность коммутаторов.

Для всех возможных потоков заранее определяются маршруты. Маршруты в сетях с коммутацией каналов задаются либо
«вручную» администратором сети, либо находятся автоматически с привлечением специальных программных и аппаратных
средств. Маршруты фиксируются в таблицах коммутации, в которых признакам потока ставятся в соответствие идентификаторы
выходных интерфейсов коммутаторов. На основании этих таблиц происходит продвижение и мультиплексирование данных.

### Элементарный канал

> **Элементарный канал** — это базовая техническая характеристика сети с коммутацией каналов, представляющая собой
> некоторое
> фиксированное в пределах данного типа сетей значение пропускной способности. Любая линия связи в сети с коммутацией
> каналов имеет пропускную способность, кратную элементарному каналу, принятому для данного типа сети.

Говоря же о сетях с коммутацией каналов, мы придаем термину «канал» значение _единицы пропускной способности_.

> Особенностью сетей с коммутацией каналов является то, что пропускная способность каждой линии связи должна быть равна
> _целому числу_ элементарных каналов.


Как следует из определения, элементарный канал представляет собой _долю пропускной способности_ линии связи. В разных
технологиях разделение пропускной способности выполняется по-разному. В одних случаях, как, например, в технологии OTN,
используется разделение по времени и элементарным каналом является пропускная способность, соответствующая одному
тайм-слоту, в течение которого линия связи предоставляется некоторому потоку в исключительное пользование. В других
технологиях (например, DWDM) элементарные каналы определены как диапазоны частот, которые могут назначаться потокам.
По-разному выполняется и идентификация элементарных каналов. На
данном этапе условимся использовать в качестве идентификатора номер канала.

### Составной канал

> Канал, построенный путем коммутации (соединения) выделенных для информационного потока элементарных каналов, называют
> **составным каналом**.

Подчеркнем следующие свойства составного канала:

* составной канал на всем своем протяжении состоит из одинакового количества элементарных каналов;
* составной канал имеет постоянную и фиксированную пропускную способность на всем своем протяжении;
* составной канал создается временно на период сеанса связи двух абонентов или, другими словами, только на время
  существования потока;
* на время сеанса связи все элементарные каналы, входящие в составной канал, поступают в исключительное пользование
  абонентов, для которых был создан этот составной канал;
* в течение всего сеанса связи абоненты могут посылать в сеть данные со скоростью, не превышающей пропускную способность
  составного канала;
* данные, поступившие в составной канал, гарантированно доставляются вызываемому абоненту без задержек, потерь и с той
  же скоростью (скоростью источника) вне зави*симости от того, существуют ли в это время в сети другие соединения или
  нет;
* после окончания сеанса связи элементарные каналы, входившие в соответствующий составной канал, объявляются свободными
  и возвращаются в пул распределяемых ресурсов для использования другими абонентами.

Мультиплексирование означает, что абоненты вынуждены конкурировать за ресурсы, в данном случае за элементарные каналы.
Возможны ситуации, когда некоторая промежуточная линия связи уже исчерпала свободные элементарные каналы — тогда новый
сеанс связи, маршрут которого пролегает через данную линию связи, не может состояться.

Чтобы распознать такие ситуации, обмен данными в сети с коммутацией каналов предваряется **процедурой установления
соединения**. В соответствии с этой процедурой абонент, являющийся инициатором сеанса связи (например, абонент $А$ в
нашей
сети), посылает в коммутационную сеть запрос, представляющий собой сообщение, содержащее адрес вызываемого абонента,
например абонента $B$.

Запрос перемещается по маршруту, заранее определенному для информационного потока данной пары абонентов. Этот маршрут
зафиксирован в глобальных таблицах коммутации, размещенных на всех промежуточных коммутаторах на пути от абонента $А$ к
$В$.

Таким образом, продвижение данных в сетях с коммутацией каналов происходит в два этапа:

1. В сеть поступает служебное сообщение — запрос, который несет адрес вызываемого абонента и инициирует создание
   составного канала.
2. По подготовленному составному каналу передается основной поток данных, для передачи которого уже не требуется
   никакой вспомогательной информации, в том числе адреса вызываемого абонента. Коммутация данных в коммутаторах
   выполняется на основе локальных признаков потока — номеров выделенных ему элементарных каналов.

### Сравнение сетей с коммутацией пакетов и каналов

| Коммутация каналов                                                                              | Коммутация пакетов                                                                                   |
|-------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| Необходимо предварительно устанавливать соединение                                              | Отсутствует этап установления соединения (дейтаграммный способ)                                      |
| Адрес требуется только на этапе установления соединения                                         | Адрес и другая служебная информация передаются с каждым пакетом                                      |
| Сеть может отказать абоненту в установлении соединения                                          | Сеть всегда готова принять данные от абонента                                                        |
| Гарантированная пропускная способность (полоса пропускания) для взаимодействующих абонентов     | Пропускная способность сети для абонентов неизвестна, задержки передачи носят случайный характер     |
| Трафик реального времени передается без задержек                                                | Ресурсы сети используются эффективно при передаче пульсирующего трафика                              |
| Высокая надежность передачи                                                                     | Возможны потери данных из-за переполнения буферов                                                    |
| Нерациональное использование пропускной способности каналов, снижающее общую эффективность сети | Автоматическое динамическое распределение пропускной способности физического канала между абонентами |

---

## Коммутация пакетов. Буферизация пакетов. Сравнение сетей с коммутацией пакетов и каналов.

### Коммутация пакетов

> Важнейшим принципом функционирования сетей с коммутацией пакетов является представление информации, передаваемой по
> сети, в виде структурно отделенных друг от друга порций данных, называемых **пакетами** (наряду с термином «пакет»
> используются также термины «кадр», «фрейм», «ячейка» и др.).

Каждый пакет снабжен **заголовком** (рис. 3.5), в котором содержится адрес назначения и другая вспомогательная
информация (
длина поля данных, контрольная сумма и др.), используемая для доставки пакета адресату. Наличие адреса в каждом пакете
является одной из важнейших особенностей техники коммутации пакетов, так как каждый пакет может быть обработан
коммутатором _независимо_ от других пакетов, составляющих сетевой трафик. Помимо заголовка у пакета может иметься еще
одно дополнительное поле, размещаемое в конце пакета и поэтому называемое **концевиком**. В концевике обычно помещается
**контрольная сумма**, которая позволяет проверить, была ли искажена информация при передаче через сеть или нет.

  <p align="center">
    <img src="/img/Разбиение%20данных%20на%20пакеты.png" alt="Разбиение данных на пакеты">
  </p>

Пакеты поступают в сеть в том темпе, в котором их генерирует источник. Предполагается, что сеть с коммутацией пакетов, в
отличие от сети с коммутацией каналов, всегда готова принять пакет от конечного узла.

Как и в сетях с коммутацией каналов, в сетях с коммутацией пакетов для каждого из потоков вручную или автоматически
определяется маршрут, фиксируемый в хранящихся на коммутаторах таблицах коммутации. Пакеты, попадая на коммутатор,
обрабатываются и направляются по тому или иному маршруту на основании информации, содержащейся в их заголовках, а также
в таблице коммутации (рис. 3.6).


  <p align="center">
    <img src="/img/Передача%20данных%20по%20сети%20в%20виде%20пакетов.png" alt="Передача данных по сети в виде пакетов">
  </p>

Пакеты, принадлежащие как одному и тому же, так и разным информационным потокам, при перемещении по сети могут
«перемешиваться» между собой, образовывать очереди и «тормозить» друг друга. На пути пакетов могут встречаться линии
связи, имеющие разную пропускную способность. В зависимости от времени суток может сильно меняться и степень
загруженности линий связи. В таких условиях не исключены ситуации, когда пакеты, принадлежащие одному и тому же потоку,
могут перемещаться по сети с разными скоростями и даже прийти к месту назначения не в том порядке, в котором они были
отправлены.

### Буферизация пакетов

> Главное отличие пакетных коммутаторов1 от коммутаторов в сетях с коммутацией каналов состоит в том, что они имеют
> внутреннюю **буферную память** для временного хранения пакетов.


Действительно, пакетный коммутатор не может принять решения о продвижении пакета, не имея в своей памяти всего пакета.
Коммутатор проверяет контрольную сумму; если она говорит о том, что данные пакета не искажены, то коммутатор начинает
обрабатывать пакет и по адресу назначения определяет следующий коммутатор. Поэтому каждый пакет последовательно, бит за
битом, помещается во **входной буфер**. Имея в виду это свойство, говорят, что сети с коммутацией пакетов используют
технику
**сохранения с продвижением (store-and-forward)**. Заметим, что для этой цели коммутатору было бы достаточно иметь буфер
размером в один пакет. Но коммутатору нужны буферы и для других целей, в частности, для _согласования скоростей
передачи данных в линиях связи_, подключенных к его интерфейсам.

Буферизация необходима пакетному коммутатору и _для согласования скорости поступления пакетов со скоростью их
коммутации_. Если коммутирующий блок не успевает обрабатывать пакеты (анализировать заголовки и перебрасывать пакеты на
нужный интерфейс), то на интерфейсах коммутатора возникают **входные очереди**. Очевидно, что для хранения входной
очереди
объем буфера должен превышать размер одного пакета.


  <p align="center">
    <img src="/img/Буферы%20и%20очереди%20пакетов%20в%20коммутаторе.png" alt="Буферы и очереди пакетов в коммутаторе">
  </p>

Поскольку объем буферов в коммутаторах ограничен, иногда происходит _потеря пакетов_ из-за переполнения буферов при
временной перегрузке части сети, когда, например, совпадают периоды пульсации нескольких информационных потоков.

Пакетный коммутатор может работать на основании одного из трех методов продвижения пакетов:

* дейтаграммная передача;
* передача с установлением логического соединения;
* передача с установлением виртуального канала.

---

## Дейтаграммная передача, передача с установлением логического соединения и виртуального канала.

> **Дейтаграммный способ передачи данных** основан на том, что все передаваемые пакеты продвигаются (передаются от
> одного
> узла
> сети другому) _независимо_ друг от друга на основании одних и тех же правил. Никакая информация об уже _переданных
> пакетах_ сетью не хранится и в ходе обработки очередного пакета во внимание не принимается. То есть каждый отдельный
> пакет рассматривается сетью как совершенно независимая единица передачи — **дейтаграмма**.

Дейтаграммный метод работает быстро, так как никаких предварительных действий перед отправкой данных проводить не
требуется. Однако при таком методе трудно проверить факт доставки пакета узлу назначения.

> В дейтаграммном методе доставка пакета не гарантируется, а выполняется по мере возможности — для описания такого
> свойства используется термин **доставка по возможности (best effort).**

### Передача с установлением логического соединения

Следующий рассматриваемый нами способ продвижения пакетов основывается на знании устройствами сети «истории» обмена
данными, например, на запоминании узлом-отправителем числа отправленных, а узлом-получателем — числа полученных
пакетов. Такого рода информация фиксируется в рамках логического соединения.

> Процедура согласования двумя конечными узлами сети некоторых параметров процесса обмена пакетами называется
> установлением логического соединения. Параметры, о которых договариваются два взаимодействующих узла, называются
> параметрами логического соединения.

Наличие логического соединения позволяет более рационально по сравнению с дейтаграммным способом обрабатывать пакеты.
Например, при потере нескольких предыдущих пакетов может быть снижена скорость отправки последующих. Напротив,
благодаря нумерации пакетов и отслеживанию номеров отправленных и принятых пакетов можно повысить надежность путем
отбрасывания дубликатов, упорядочивания поступивших и повторения передачи потерянных пакетов.

Параметры соединения могут быть _постоянными_, то есть не изменяющимися в течение всего соединения (например,
идентификатор соединения, способ шифрования пакета или максимальный размер поля данных пакета), или _переменными_, то
есть
динамически отражающими текущее состояние соединения (например, последовательные номера передаваемых пакетов).

Когда отправитель и получатель _фиксируют_ начало нового соединения, они прежде всего «договариваются» о начальных
значениях параметров процедуры обмена и только после этого начинают передачу собственно данных.

Передача с установлением логического соединения включает три фазы (рис. 3.10):

* Установление логического соединения, которое начинается с того, что узел — инициатор соединения отправляет
  узлу-получателю служебный пакет с предложением установить соединение. Если узел-получатель согласен с этим, то он
  посылает в ответ другой служебный пакет, подтверждающий установление соединения и предлагающий некоторые параметры,
  которые должны использоваться в рамках данного логического соединения. Это могут быть, например, идентификатор
  соединения, количество пакетов, которые можно отправить без получения подтверждения, и т. п. Узел — инициатор
  соединения
  может закончить процесс установления соединения отправкой третьего служебного
  пакета, в котором сообщит, что предложенные параметры ему подходят.
* Передача данных. После того как соединение установлено и все параметры согласованы, конечные узлы начинают передачу
  собственно данных. Логическое соединение может быть рассчитано на передачу данных как в одном направлении (от
  инициатора
  соединения), так и в обоих направлениях.
* Разрыв логического соединения. После передачи некоторого законченного набора данных, например определенного файла,
  узел-отправитель инициирует процедуру разрыва логического соединения, аналогичную процедуре установления соединения.

  <p align="center">
    <img src="/img/Передача%20без%20установления%20соединения%20и%20с%20.png" alt="Передача без установления соединения и с">
  </p>

Заметим, что, в отличие от передачи дейтаграммного типа, в которой поддерживается только один тип пакетов —
информационный,
передача с установлением соединения должна поддерживать как минимум два типа пакетов — _информационные_ пакеты переносят
собственно пользовательские данные, а _служебные_ предназначаются для установления (разрыва) соединения.

> Однако передача с установлением соединения имеет важное отличие от дейтаграммной передачи, поскольку в ней, помимо
> обработки пакетов на коммутаторах, имеет место дополнительная обработка пакетов на конечных узлах.


> Как видим, передача с установлением соединения предоставляет больше возможностей в плане надежности и безопасности
> обмена данными, чем дейтаграммная передача. Однако этот способ более медленный, так как он подразумевает
> дополнительные
> вычислительные затраты на установление и поддержание логического соединения.

### Передача с установлением виртуального канала

Следующий способ продвижения данных в пакетных сетях основан на частном случае логического соединения, в число
параметров которого входит жестко определенный для всех пакетов маршрут. То есть все пакеты, передаваемые в рамках
данного соединения, должны проходить строго по одному и тому же закрепленному за этим соединением пути.

> Единственный заранее проложенный фиксированный маршрут, соединяющий конечные узлы в сети с коммутацией пакетов,
> называют **виртуальным каналом (virtual circuit, или virtual channel)**.

Виртуальные каналы прокладываются для устойчивых информационных потоков. С целью выделения потока данных из общего
трафика каждый пакет этого потока помечается признаком особого вида — **меткой**.

После прокладки виртуального канала сеть может передавать по нему соответствующий поток данных. Во всех пакетах, которые
переносят пользовательские данные, адрес назначения уже не указывается, его роль играет метка виртуального канала. При
поступлении пакета на входной интерфейс коммутатор читает значение метки из заголовка пришедшего пакета и просматривает
свою таблицу коммутации, по которой определяет, на какой выходной порт передать пришедший пакет.

Таблица коммутации в сетях, использующих виртуальные каналы, отличается от таблицы коммутации в дейтаграммных сетях. Она
содержит записи _только о проходящих через коммутатор виртуальных каналах_, а не обо всех возможных адресах назначения,
как это имеет место в сетях с дейтаграммным алгоритмом продвижения.

В одной и той же сетевой технологии могут быть задействованы разные способы продвижения данных. Так, для передачи
данных между отдельными сетями, составляющими Интернет, используется дейтаграммный протокол IP. В то же время
обеспечением надежной доставки данных между конечными узлами этой сети занимается протокол TCP, устанавливающий
логические соединения без фиксации маршрута. И наконец, Интернет — это пример сети, применяющей технику виртуальных
каналов, так как в состав Интернета входит немало сетей MPLS, поддерживающих виртуальные каналы.